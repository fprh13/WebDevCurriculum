# Quest 15. 자동화된 테스트

## Introduction

- 이번 퀘스트에서는 자동화된 테스트에 어떤 장점이 있는지, 어떤 식으로 구축할 수 있는지에 대해 알아보겠습니다.

## Topics

- Automated Test
  - TDD
  - Unit Test
  - Integration Test
  - E2E Test
  - Stub & Mock
- Jest
- Puppeteer

## Resources

- [Unit Test (단위 테스트) 도입하기](https://www.popit.kr/unit-test-%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8F%84%EC%9E%85%ED%95%98%EA%B8%B0-1%ED%8E%B8/)
- [소프트웨어 테스트 안티 패턴](https://velog.io/@leejh3224/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%95%88%ED%8B%B0-%ED%8C%A8%ED%84%B4)
- [End-to-End testing with Puppeteer and Jest](https://medium.com/touch4it/end-to-end-testing-with-puppeteer-and-jest-ec8198145321)
- [Mock & Stub](https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub)

## Checklist

- **`자동화된 테스트를 만드는 것에는 어떤 장점과 단점이 있을까요?`**

**장점**💡

> **시간과 비용 절감** : 자동화된 테스트는 반복적인 작업을 자동화하기 때문에 수동 테스트에 비해 시간과 비용을 절감할 수 있습니다.

> **일관성과 정확성**: 자동화된 테스트는 반복적으로 동일한 방식으로 실행되기 때문에 일관성과 정확성을 보장할 수 있습니다.

> **빠른 피드백** : 자동화된 테스트는 빠르게 실행되기 때문에 코드 변경에 대한 피드백을 빠르게 받을 수 있습니다.

> **리팩토링 지원** : 자동화된 테스트는 코드 변경에 따라 자동으로 수정되기 때문에 리팩토링을 지원합니다.

> **더 나은 코드 품질** : 자동화된 테스트는 버그를 찾아 수정하고 예방하면서 코드 품질을 향상시키는데 도움을 줍니다.

**단점**💡

> **초기 투자 비용** : 자동화된 테스트를 만드는 것은 초기에 비용이 많이 들기 때문에 작은 규모의 프로젝트에서는 비효율적일 수 있습니다.

> **유지보수 비용** : 자동화된 테스트는 코드 변경에 따라 자동으로 수정되기 때문에 유지보수 비용이 증가할 수 있습니다.

> **인간적인 판단력 부족** : 자동화된 테스트는 기계적으로 실행되기 때문에 테스트 케이스를 모두 커버하지 못할 수 있습니다. 또한, 테스트 결과를 분석하고 판단하는 인간적인 판단력이 필요합니다.

> **시스템 환경 의존성** : 자동화된 테스트는 실행 환경에 따라 결과가 다를 수 있기 때문에 시스템 환경에 대한 의존성이 있습니다.

> **테스트 코드의 유지보수** : 자동화된 테스트 코드도 일반적인 코드와 마찬가지로 유지보수가 필요합니다. 따라서, 테스트 코드의 유지보수도 고려해야 합니다.

- `TDD(Test-Driven Development)란 무엇인가요? TDD의 장점과 단점은 무엇일까요?`

**장점**💡

> **품질 개선** : TDD는 테스트를 통해 코드 품질을 개선하고 유지보수성을 높입니다.

> **버그 예방** : TDD는 테스트를 먼저 작성하기 때문에 버그를 사전에 예방할 수 있습니다.

> **코드 디자인 개선** : TDD는 코드 디자인을 개선하도록 유도하며, 의도적인 코드 작성을 돕습니다.

> **문서화 효과** : TDD는 테스트 케이스를 문서화하는 효과가 있습니다.

> **빠른 피드백** : TDD는 작은 단위의 코드를 빠르게 테스트하기 때문에 빠른 피드백을 받을 수 있습니다.

**단점**💡

> **시간과 노력** : TDD는 테스트 코드를 작성하는 과정이 추가로 필요하기 때문에 초기에는 시간과 노력이 많이 필요합니다.

> **난이도** : TDD는 초보자에게는 어려울 수 있으며, 경험과 기술적 지식이 필요합니다.

> **테스트 코드의 유지보수** : TDD는 테스트 코드를 작성하므로, 테스트 코드의 유지보수도 중요한 문제가 될 수 있습니다.

> **과도한 테스트 코드 작성** : TDD는 모든 코드에 대한 테스트를 작성하도록 유도하므로, 과도한 테스트 코드 작성으로 인한 부담이 있을 수 있습니다.

> **설계 수정에 따른 추가 작업** : TDD는 설계를 먼저 작성하지 않으므로, 설계 수정에 따라 추가 작업이 필요할 수 있습니다.

---

- **`테스트들 간의 계층에 따라 어떤 단계들이 있을까요?`**

> 1. 유닛 테스트
> 2. 통합 테스트
> 3. E2E 테스트
> 4. 시스템 테스트
> 5. 성능 테스트
> 6. 보안 테스트
> 7. 회귀 테스트

- `유닛 테스트, 통합 테스트, E2E 테스트는 각각 어떤 것을 뜻하나요?`

**유닛테스트**💡

> 소스 코드의 최소 단위인 모듈, 함수 또는 메소드 등을 개별적으로 테스트하는 단계입니다. 개발자가 작성하며 자동화된 테스트 도구를 사용합니다.

**통합테스트**💡

> 단위 테스트를 통과한 모듈들을 조합하여 테스트하는 단계입니다. 모듈 간의 상호작용과 인터페이스 문제를 발견할 수 있습니다.

**E2E 테스트**💡

> 소프트웨어의 전체적인 동작을 테스트하는 방법 중 하나로, 사용자 시나리오를 흉내내어 테스트하는 것입니다. 사용자의 행동에 따른 소프트웨어의 반응을 확인하며, UI에서부터 데이터베이스까지 전체적인 시스템 흐름을 테스트합니다.

- `테스트에 있어서 Stub과 Mock은 어떤 개념을 가리키는 것일까요?`

> Stub과 Mock은 테스트 중인 코드와 의존하는 코드를 대체하는 객체를 만들어 테스트를 수행할 때 사용되는 개념입니다. 테스트 중인 코드와 의존하는 코드 간의 결합도를 낮추어 테스트를 수행하기 쉽게 만들어줍니다.

---

- **`Jest는 어떤 일을 하며 어떻게 사용하는 테스트 프레임워크일까요?`**

> Jest는 describe() 함수를 사용하여 테스트를 그룹화하고, it() 함수를 사용하여 개별 테스트 케이스를 작성하는 형식입니다.

**기능 제공**💡

> **테스트 러너(Test Runner)** : Jest는 테스트 파일을 실행하고, 테스트 결과를 보고합니다.

> **어설션(Assertion) 라이브러리** : Jest는 테스트 케이스에서 기대되는 결과를 검증하는데 사용되는 어설션(assertion) 라이브러리를 내장하고 있습니다.

> **Mocking과 Spy** : Jest는 mocking과 spy를 쉽게 구현할 수 있는 기능을 제공합니다.

> **Code Coverage** : Jest는 코드 커버리지(code coverage)를 측정하는데 사용됩니다.

- `Jest 이외의 테스트 프레임워크는 어떤 것이 있고 어떤 장단점이 있을까요?`

> **Mocha** :
> 어설션 라이브러리나 스파이/모킹 라이브러리를 지정하지 않아도 사용할 수 있어 유연합니다.

> **Jasmine** :
> 다양한 기능이 내장되어 있어서, 따로 라이브러리를 추가로 설치할 필요가 없습니다.
> 비교적 무겁고 느리며, 설정이 복잡합니다.

> **Ava** :
> 속도가 빠르고, 병렬 처리를 지원합니다.
> 어설션 라이브러리나 스파이/모킹 라이브러리가 내장되어 있지 않아서, 별도로 설치해야 합니다.

> **Tape** :
> 간단하고 가벼운 프레임워크입니다.
> HTML 또는 DOM 관련 테스트를 할 수 없습니다.

> **Cypress** :
> End-to-End 테스트를 위한 프레임워크입니다.
> 다른 테스트 프레임워크와는 다르게, 브라우저에서 동작합니다.
> 느리고, 설정이 복잡하며, 테스트 환경에 따라 상이한 결과를 보일 수 있습니다.

---

- **`Puppeteer는 어떤 일을 하며 어떻게 사용하는 테스트 프레임워크일까요?`**

> Puppeteer를 사용하면 실제 사용자가 웹 어플리케이션을 사용하는 것과 유사한 방식으로 테스트를 수행할 수 있습니다. 예를 들어, 페이지 내의 요소를 클릭하고, 입력하고, 스크롤하고, 화면 캡처 등의 작업을 수행할 수 있습니다. 또한, 브라우저와 상호작용하여 웹 어플리케이션의 UI와 기능을 테스트할 수 있습니다.

---

## Quest

- 직전 퀘스트의 메모장의 서버와 클라이언트 각 부분에 유닛 테스트, 통합 테스트, E2E 테스트 등을 추가해 보세요.
  - `npm test` 명령을 통해 모든 테스트가 돌고 그 결과를 출력할 수 있어야 합니다.

## Advanced

- 테스트의 커버리지는 어떤 개념일까요? 프로젝트에서 테스트의 커버리지는 어떻게 접근하는 것이 좋을까요?
